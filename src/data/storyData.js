export var initTwsModel = {
    mood: 50,
    pilou: false,
    wallet: 30,
    children: 0,
    childrenHome: false,
};


// Function that takes a state as a parameter and return a step ID
// By default it won't return anything
export function modelHooks(twsModel) {
    // Go back to your parents
    if (twsModel.mood <= 0) {
        return "FIN5"
    }

    return null
}

const storyData = {
    "0": {
        text: "Comme chaque matin, tu te r√©veilles, il est 5h. Tu as toujours √©t√© une l√®ve-t√¥t, c'est important, il faut pr√©parer le petit d√©jeuner de toute la famille. Qui ne r√™ve pas de se lever avec l'odeur du caf√© fumant ? Tu sors de ton lit en douceur pour ne pas r√©veiller ton mari, et quitte la chambre",
        choices: () => [
            { text: "Le plancher grince", next: () => "1" },
            { text: "Le plancher ne grince pas", next: () => "1" }
        ],
        location: "Chambre"
    },
    "1": {
        text: "Avant de descendre √† la couisine, tu t'arr√™tes dans ton dressing. Que vas-tu porter aujourd'hui ?",
        choices: () => [
            { text: "Un pyjama pilou-pilou, c'est tout doux!", next: (twsModel) => { twsModel.mood -= 30; twsModel.pilou = true; return "2" } },
            { text: "Une petite robe de printemps √† fleur, en ajoutant ton tablier par dessus. Classique, efficace, ind√©modable", next: () => "2" }
        ],
        location: "Dressing"
    },
    "2": {
        text: "Arriv√©e dans la couisine, tu t'affaires √† pr√©parer le petit d√©jeuner de toute la famille. Qu'est ce que tu vas leur pr√©parer de bon aujourd'hui ?",
        choices: () => [
            { text: "Caf√© noir, tartoche de nut' et basta", next: (twsModel) => { twsModel.mood += 20; twsModel.wallet -= 4; return twsModel.pilou ? "2c" : "2a" } },
            { text: "Oeufs brouill√©s, charcuterie, jus d'orange press√©, caf√© chaud et gaufres", next: (twsModel) => { twsModel.mood -= 20; twsModel.wallet -= 15; return twsModel.pilou ? "2c" : "2b" } }
        ],
        location: "Couisine"
    },
    "2a": {
        text: "Ton mari descend enfin, d√©j√† habill√©, ras√© et parfum√©.. Qu'il est beau ! Avant que tu aies eu le temps de lui faire un compliment, il regarde la table du petit d√©jeuner, remarque les tartines de Nutella.. Il s'exclame enfin : 'SUPER !! Exactement comme chez Maman, merci ma ch√©rie'",
        choices: () => [
            { text: "Bravo ! Apr√®s avoir d√©vor√© son petit d√©jeuner en lisant son journal, en partant au travail, ton mari t'a fait un bisou sur la joue et t'a gliss√© un billet de 20$", next: (twsModel) => { twsModel.wallet += 20; return "3" }}
        ],
        location: "Couisine"
    },
    "2b": {
        text: "Ton mari descend enfin, d√©j√† habill√©, ras√© et parfum√©.. Qu'il est beau ! Avant que tu aies eu le temps de lui faire un compliment, il s'assied en silence, porte une gauffre √† sa bouche. Il finit par s'exclamer avec un air de d√©go√ªt : 'POUAH, c'est immonde. Tu as encore pris ton temps ce matin, les gaufres sont froides, c'est immangeable.'",
        choices: () => [
            { text: "Quelle erreur... Tu retiens tes larmes alors qu'il part au travail sans te dire au revoir.", next: () => "3" }
        ],
        location: "Couisine"
    },
    "2c": {
        text: "Ton mari descend enfin, d√©j√† habill√©, ras√© et parfum√©.. Avant que tu aies eu le temps de lui faire un compliment, il l√®ve les yeux vers toi, et te jete d'un air ahuri : 'Qu'est ce que c'est que cette tenue ? Un pilou pilou vraiment ? T'es d√©gueulasse, qu'est ce que j'ai fait pour m√©riter √ßa ? ü§Æ'. Il te jette un dernier regard noir avant de partir au travail sans toucher √† son petit d√©jeuner...",
        choices: () => [
            { text: "Peu fi√®re de toi, tu montes te changer pour enfiler une tenue plus correcte", next: () => "3" }
        ],
        location: "Couisine"
    },
    "3": {
        text: "Ton mari parti au travail, tu te retrouves donc seule dans la couisine. Il est temps de r√©veiller les enfants. Mais d'ailleurs, tu as combien d'enfants ?",
        choices: () => [
            { text: "Malheureusement, 0. Tu n'as pas encore eu le loisir d'accueillir la vie, mais √ßa ne saurait tarder, chaque chose en son temps.", next: () => "FIN1" },
            { text: "2 enfants, un gar√ßon et une fille, ce sont des amours", next: (twsModel) => { twsModel.children = 2; console.log(twsModel); return "4" }},
            { text: "9 enfants ! Et tu ne comptes pas t'arr√™ter l√†. Tu adores prendre soin de ta petite tribu", next: (twsModel) => { twsModel.children = 9; return "4" }}
        ],
        location: "Couisine"
    },
    "4": {
        text: "Tu montes dans la chambre des enfants pour les r√©veiller. Comment les r√©veilles-tu ?",
        choices: () => [
            { text: "Tu es de bonne humeur, tu les r√©veilles tendrement. Bien dormi mon coeur ? ", next: () => "4a" },
            { text: "Tu n'as pas le temps. Tu cries dans l'escalier : 'ALLEZ, DEBOUT, C'EST L'HEURE DE SE LEVER'", next: () => "5" }
        ],
        location: "ChambreEnfant"
    },
    "4a": {
        text: "Jean-Eude, le petit dernier, te r√©pond d'une voix faible : 'Je me sens malade m√®re'. Effectivement, en posant ta main sur son front, tu le sens br√ªlant. C'est s√ªr, il ne pourra pas aller √† l'√©cole aujourd'hui",
        choices: () => [
            { text: "'Reste √† la maison mon coeur, maman va s'occuper de toi.'", next: (twsModel) => { twsModel.childrenHome = true; return "5" }}
        ],
        location: "ChambreEnfant"
    },
    "5": {
        text: "Tu pr√©pares le petit d√©jeuner des enfants.",
        choices: () => [
            { text: "Tu leur concoctes un bon petit d√©jeuner, ils ont besoin de force pour leur journ√©e.", next: (twsModel) => { 
                if (twsModel.wallet >= 5*twsModel.children) {
                    twsModel.wallet -= 5*twsModel.children;
                    return  "5a" 
                }
                else {
                    return "5b" 
                }
            }}, 
            { text: "Ils mangeront les restes de leurs p√®res, des tartines suffiront.", next: (twsModel) => "5a" }
        ],
        location: "Couisine"
    },
    "5a": {
        text: "Les enfants ont bien mang√©, il est temps pour eux de partir √† l'√©cole.",
        choices: (twsModel) => {
            if (twsModel.childrenHome) {
                return [{ text: "Les enfants dans le bus scolaire, tu te rends imm√©diatement chez le m√©decin pour Jean-Eude, le pauvre chou est br√ªlant ü•µ", next: () => "9" }]
            }
            else 
            {
                return [{ text: "Les enfants dans le bus scolaire, tu attrapes ton panier, et tu te d√©p√™ches d'aller faire les courses.", next: () => "6" }]
            }
        },
        location: "Bus"
    },

    "5b": {
        text: "D√©sol√©e, tu n'as pas assez d'argent pour proposer ce genre de petit d√©jeuner √† tes enfants. Tu n'as pas assez bien g√©r√© le budget de la famille, c'est pourtant ton r√¥le. Un de tes enfants n'aura donc pas √† manger ce matin, c'est la troisi√®me fois cette semaine, en sous-nutrition il ne finira pas la journ√©e vivant. Qui va mourir ?",
        choices: () => [
            { text: "Joseph, l'a√Æn√©. A 15 ans, il commence √† co√ªter cher en nourriture, et lorsqu'il voudra faire les m√™mes √©tudes que son p√®re, cela co√ªtera encore plus.", next: (twsModel) => { twsModel.children -= 1; twsModel.mood -= 30; return "6" }},
            { text: "Augustine, la petite derni√®re. Cela vous fera √©conomiser une dot.", next: (twsModel) => { twsModel.children -= 1; twsModel.mood += 20; return "6" }}
        ],
        location: "Couisine"
    },

    "6": {
        text: "Comment te rends tu au supermarch√© ?",
        choices: () => [
            { text: "Tu prends le bus, tu n'as pas le permis. Conduire, c'est une affaire d'homme bien s√ªr.", next: (twsModel) => { twsModel.mood += 10; return "8" }},
            { text: "Tu prends la voiture, ce sera plus facile pour transporter tout ce que tu dois acheter pour ta petite famille.", next: (twsModel) => { twsModel.mood -= 60; return "7"}}
        ],
        location: "Couisine"
    },

    "7": {
        text: "En sortant du garage, tu fais une erraflure sur la voiture. Ton mari va √™tre furieux. Voil√† ce qui arrive quand une femme prend le volant. En esp√©rant que cela te serve de le√ßon.",
        choices: () => [
            { text: "Tremblante, tu fais tr√®s attention sur la route jusqu'au supermarch√©", next: () => "8"  },
        ], 
        location: "Garage"
    },

    "8": {
        text: "Arriv√©e au supermarch√©, tu choisis les produits qu'il y a sur ta liste. Tu commences par le rayon bi√®re, ton mari t'as rappel√© ce matin qu'il avait bu la derni√®re hier soir.",
        choices: () => [
            { text: "Un pack de Mosbrau, finalement une bi√®re √ßa reste une bi√®re. Il co√ªte 2‚Ç¨.", next: (twsModel) => {
                if (twsModel.wallet >= 2){
                    twsModel.wallet -= 2;
                    twsModel.mood -= 10;
                    return "8b"
                } else {
                    return "8a"
                }
            }},
            { text: "Un pack de 1664, un grand classique. Il co√ªte 5‚Ç¨.", next: (twsModel) => {
                if (twsModel.wallet >= 5){
                    twsModel.wallet -= 5;
                    twsModel.mood += 15;
                    return "8b"
                } else {
                    return "8a"
                }
            }},
            { text: "Tu n'as pas assez d'argent pour ce genre de frivolit√©. Ton mari s'en passera.", next: (twsModel) => { twsModel.mood -= 15; return "8b" }}
        ],
        location: "Supermarche"
    },

    "8a": {
        text: "Tu n'as pas assez d'argent pour offrir ce pack de bi√®re √† ton mari. Prend autre chose, ou ne prend rien... Et subis les cons√©quences de ton incapacit√© √† g√©rer le budget familial.",
        choices: () => [
            { text: "Que vas-tu faire ?", next: () => "8" }
        ],
        location: "Supermarche"
    },

    "8b": {
        text: "Prochaine √©tape, la viande pour le d√Æner de ce soir.",
        choices: () => [
            { text: "Une belle entrec√¥te qui apportera toutes les prot√©ines n√©cessaires √† la virilit√© de ton mari. Elle co√ªte 15‚Ç¨.", next: (twsModel) => {
                if (twsModel.wallet >= 15){
                    twsModel.wallet -= 15;
                    twsModel.mood += 10;
                    return "8d"
                } else {
                    return "8c"
                }
            }},
            { text: "De la viande h√¢ch√©e, tu feras des lasagnes, les enfants vont sauter de joie. Le paquet co√ªte 7‚Ç¨.", next: (twsModel) => {
                if (twsModel.wallet >= 5){
                    twsModel.wallet -= 5;
                    twsModel.mood -= 10;
                    return "8d"
                } else {
                    return "8c"
                }
            }},
            { text: "Tu n'as pas assez d'argent pour payer de la viande. Ta famille mangera de la soupe de pommes de terre, comme les jours pr√©c√©dents.", next: (twsModel) => { twsModel.mood -= 15; return "8d" }}
        ],
        location: "Supermarche"
    },

    "8c": {
        text: "Tu n'as pas assez d'argent pour acheter cette viande. Prends autre chose, ou ne prend rien. Et subis les cons√©quences de ton incapacit√© √† g√©rer le budget familial.",
        choices: () => [
            { text: "Que vas-tu faire ?", next: () => "8b" }
        ],
        location: "Supermarche"
    },

    "8d": {
        text: "Tu te diriges maintenant vers le rayon hygi√®ne f√©minine. Tu n'as pas r√©ussi √† tomber enceinte, donc tu vas bient√¥t avoir tes menstruations. Quelles protection tu choisi ?",
        choices: () => [
            { text: "Un paquet de serviettes hygi√©niques, c'est quand m√™me le minimum. Il co√ªte 5‚Ç¨.", next: (twsModel) => {
                if (twsModel.wallet >= 5){
                    twsModel.wallet -= 5;
                    twsModel.mood -= 10;
                    return "8f"
                } else {
                    return "8e"
                }
            }},
            { text: "Tu es mal √† l'aise d'utiliser ton budget pour ce genre de produit. Tu prends simplement un paquet de coton, et tu fabriqueras toi m√™me tes tampons. Il co√ªte 2‚Ç¨.", next: (twsModel) => {
                if (twsModel.wallet >= 2){
                    twsModel.wallet -= 2;
                    twsModel.mood -= 10;
                    return "8f"
                } else {
                    return "8e"
                }
            }},
            { text: "C'est de ta faute si tu n'as pas r√©ussi √† f√©conder les spermatozo√Ødes de ton mari. Ta famille n'a pas √† partir de ton infertilit√©. Tu ne prends rien et tu te d√©brouilleras.", next: () => "8f" }
        ],
        location: "Supermarche"
    },

    "8e": {
        text: "Tu n'as pas assez d'argent pour t'offrir ce luxe d'hygi√®ne. Prends autre chose. Ou ne prend rien.",
        choices: () => [
            { text: "Que vas-tu faire ?", next: () => "8d" }
        ],
        location: "Supermarche"
    },

    "8f": {
        text: "Le dernier rayon est celui des c√©r√©ales, pour le petit d√©jeuner des enfants.",
        choices: () => [
            { text: "Un paquet de Chocapic, √ßa donnera un peu de joie dans leurs petits yeux. Il co√ªte 5‚Ç¨.", next: (twsModel) => {
                if (twsModel.wallet >= 5){
                    twsModel.wallet -= 5;
                    return "8h"
                } else {
                    return "8g"
                }
            }},
            { text: "Des flocons d'avoine. Simple. Pas cher. Bon pour la sant√©. Cela co√ªte 2‚Ç¨.", next: (twsModel) => {
                if (twsModel.wallet >= 2){
                    twsModel.wallet -= 2;
                    return "14"
                } else {
                    return "8g"
                }
            }},
            { text: "C'est de ta faute si tu n'as pas r√©ussi √† f√©conder les spermatozo√Ødes de ton mari. Ta famille n'a pas √† partir de ton infertilit√©. Tu ne prends rien et tu te d√©brouilleras.", next: () => "8f" }
        ],
        location: "Supermarche"
    },

    "8g": {
        text: "Tu n'as pas assez d'argent pour acheter ces c√©r√©ales. Prends autre chose. Ou ne prend rien. Et subis les cons√©quences",
        choices: () => [
            { text: "Que vas-tu faire ?", next: () => "8f" }
        ],
        location: "Supermarche"
    },

    "8h": {
        text: "Des chocapics ?? Tu as oubli√© que Jean-Eude, ton dernier, √©tait diab√©tique ? F√©licitations, il a fait une crise, et n'a pas surv√©cu. ‚ö∞Ô∏è",
        choices: () => [
            { text: "M√®re indigne.", next: (twsModel) => { twsModel.children -= 1; return "14" }}
        ],
        location: "Supermarche"
    },

    "9" : {
        text: "Le m√©decin examine Jean-Eude. 'C'est une simple angine. Une bonne soupe pr√©par√©e par maman, du repos, et tu pourras retourner √† l'√©cole en un rien de temps.' Apr√®s avoir r√©dig√© l'ordonnance, il se tourne vers toi. Et vous, xxx, comment allez-vous ?",
        choices: () => [
            { text: "Tu fais ton plus beau sourire. 'Tout va bien docteur, mon mari est formidable et mes enfants sont merveilleux, je ne pourrais r√™ver mieux.", next: (twsModel) => { twsModel.mood += 20; return "10" }},
            { text: "Apr√®s r√©flexion, tu d√©cides de dire la v√©rite. 'Ecoutez docteur, √† vrai dire, pas tr√®s bien..." , next: () => "11" }
        ],
        location: "Medecin"
    },

    "10" : {
        text: "Le m√©decin te sourit. 'Quel plaisir d'entendre de telles choses. Je ne manquerai pas d'en toucher deux mots √† votre mari, il serait ravi de savoir que vous √™tes une bonne √©pouse.",
        choices: () => [
            { text: "Il est temps pour toi d'aller faire quelques courses.", next: () => "6" }
        ], 
        location: "Medecin"
    },

    "11": { 
        text: "'Je ne m'en sors pas, avec toutes les t√¢ches m√©nag√®res... Mon mari est si strict et il m'aide tr√®s rarement avec les enfants. Et la fa√ßon dont il s'adresse √† moi, c'est horrible, je vis un calvaire.'", 
        choices: () => [
            { text: "..." , next: () => "12" },
        ],
        location: "Medecin"
    },

    "12": {
        text: "Tu encha√Ænes: 'Et avec lui, pas question d'aborder la charge mentale. C'est √† croire que nous vivons en 1960 docteur.. Je n'ai m√™me pas de compte bancaire, rendez-vous compte !'",
        choices: () => [
            { text: "...", next: () => "13" }
        ],
        location: "Medecin"
    },

    "13" : {
        text: "'J'ai l'impression d'√™tre bonne uniquement √† pondre des enfants, et √† lui faire la popote.. Vraiment docteur, je songe chaque jour √† le quitter, √† m'enfuir, retrouver ma libert√©...'",
        choices: () => [
            { text: "Tu l√®ves des yeux embu√©s de larmes vers ton m√©decin", next: () => "FIN2" }
        ],
        location: "Medecin"
    },

    "14" : {
        text: "Retour √† la maison apr√®s les courses, tu as √† peine le temps de tout ranger que tu entends la voiture de ton mari dans l'all√©e. Vite, quand il passe la porte d'entr√©e, tu t'appr√™tes d'aller √† sa rencontre.",
        choices: () => [
            { text: "blabla", next: () => "blabla" }
        ],
        location: "Salon"
    },

    "FIN1": {
        text: "0 enfant ! R√©veille toi ma grande ! On t'h√©berge pas pour ta laine ! Il s'agirait de s'y filer, ton mari a besoin d'une descendance.",
        choices: () => [],
        location: "Bouh",
        emoji: "üêê"
    },
    "FIN5": {
        text: "Ton mari est √† bout ! Qui t'a √©lev√©e de la sorte ? Lui qui pensait avoir √©pous√© une ma√Ætresse de maison exemplaire a mari√© une catin, ambassadrice des go√ªts frivoles et dangereux. Il te ram√®ne chez tes parents : visiblement l'√©ducation est √† revoir... üìè",
        choices: () => [],
        location: "Parents",
        emoji: "üíîü´µü•∫"
    }
};

export default storyData;